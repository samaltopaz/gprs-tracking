<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Imggallery</title>
<link href="style.css"rel="stylesheet" type="text/css" />
<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script type="text/javascript" src="jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
document.addEventListener("deviceready", onDeviceReady, false);
     
    var db = window.openDatabase("Database", "1.0", "gps", 200000);
 
    function onDeviceReady(){
        //Populate the databse
        db.transaction(populateDB, errorCB, successCB);
        
        
    }
    
    function populateDB(tx){
        //Create the table
        //tx.executeSql('DROP TABLE IF EXISTS MyContacts');
        tx.executeSql('CREATE TABLE IF NOT EXISTS MyContacts (id INTEGER PRIMARY KEY AUTOINCREMENT, location VARCHAR(30) NOT NULL, start_time VARCHAR(30) NOT NULL, cycle_length VARCHAR(30) NOT NULL,arrival_open VARCHAR(30) NOT NULL, arrival_close VARCHAR(30) NOT NULL)');
        
    }
  
	
 $("#save").bind ("click", function (event){
      var str="`location`='A'";
         $('.A').each(function(){
          
      var loca=($(this).val());
      var y=($(this).attr('col_val'));
      
      str= str +",`"+y+"`='"+loca+"'";
   

      
    });
    alert(str);
     
      var str2="`location`='B'";
         $('.B').each(function(){
          
      var locb=($(this).val());
      var yb=($(this).attr('col_val'));
      
      str2= str2 +",`"+yb+"`='"+locb+"'";
   

      
    });
    alert(str2);
    
    var str3="`location`='C'";
         $('.C').each(function(){
          
      var locc=($(this).val());
      var yc=($(this).attr('col_val'));
      
      str3= str3 +",`"+yc+"`='"+locc+"'";
   

      
    });
    alert(str3);
     
          db.transaction(function (tx){ 
          	alert("INSERT INTO gps"+str);
          tx.executeSql("INSERT INTO gps "+str);
          tx.executeSql("INSERT INTO gps "+ str2);
          tx.executeSql("INSERT INTO gps "+ str3);
          });
          
          
          
          
          
       // alert(loca);
        //alert(locb);
        
       
        
        //alert(locc);
 });
 
 
 function queryDB(tx){
        tx.executeSql('SELECT start_time, cycle_length  FROM gps ORDER BY location', [], querySuccess, errorCB);
    }
 
    function querySuccess(tx, results){
        $.mobile.showPageLoadingMsg(true);
        var len = results.rows.length;
        $("#userList").html('');
        for (var i=0; i<len; i++){
            var row= results.rows.item(i);
            var htmlData = '<li id="'+row["id"]+'"><a href="#"><h2>'+row["start_time"]+'</h2><p class="ui-li-aside">'+row["cycle_length"]+'</p></a></li>';
            $("#userList").append(htmlData);
        }
    }
    function errorCB{
    	
    alert('1');	
    	
    }
    }
     
 
});
        //var workPhoneNumber = $.trim($("#workPhoneNumber").val()).replace(/[^0-9-]/g, '');
        //var emailId = $.trim($("#emailId").val());
        //var website = $.trim($("#website").val());
        //var happyBirthDay = $.trim($("#happyBirthDay").val());
        //console.log(name+' '+nickName+' '+mobilePhoneNumber+' '+workPhone

</script>

      
      
</head>

<body>
	<div id="topbar">
			<div id="top_box">
					<h2 style="text-align:center; text-shadow:#000000 1px">
					Arrival Time Demo App
					</h2>	
					<p class="text">
							Edit Parameters <br /> Tap any Cell to Edit
					</p>		
			</div>
	</div>
	
	
	<div id="contentbar">
			<div id="content_box">
				
					<table id="table1" style="height:300px;">
							<tr>
									<td>
											
									</td>
									<td align="center">
											Location<br />
											A

									</td>
									<td align="center">
											Location<br />
											B
									</td>
									<td align="center">
											Location<br />
											 C
									</td>
							</tr>
							<tr>
									<td>
											Start Time
									</td>
									<td>
											<input type="text" name="" col_val="start_time" class="textbox2 A" />
									</td>
									<td>
											<input type="text" name="" col_val="start_time"  class="textbox2 B" />
									</td>
									<td>
											<input type="text" name="" col_val="start_time" class="textbox2 C" />
									</td>
							</tr>
							<tr>
									<td>
											Cycle Length
									</td>
									<td>
											<input type="text" name="" col_val="cycle_length"  class="textbox2 A" />
									</td>
									<td>
											<input type="text" name="" col_val="cycle_length"  class="textbox2 B" />
									</td>
									<td>
											<input type="text" name="" col_val="cycle_length"  class="textbox2 C" />
									</td>
							</tr>
							<tr>
									<td>
											Arrival Open
									</td>
									<td>
											<input type="text" name="" col_val="arrival_open"  class="textbox2 A" />
									</td>
									<td>
											<input type="text" name="" col_val="arrival_open"  class="textbox2 B" />
									</td>
									<td>
											<input type="text" name="" col_val="arrival_open"  class="textbox2 C" />
									</td>
							</tr>
							
							<tr>
									<td>
											Arrival Close
									</td>
									<td>
											<input type="text" name="" col_val="arrival_close"  class="textbox2 A" />
									</td>
									<td>
											<input type="text" name=""  col_val="arrival_close" class="textbox2 B" />
									</td>
									<td>
											<input type="text" name="" col_val="arrival_close" class="textbox2 C" />
									</td>
							</tr>
							
							<tr>
									<td colspan="2">
											<input type="button" value="Cancel" class="" />
									</td>
									<td colspan="2">
											<input type="button" value="Save Changes" class="" id="save"/>
									</td>
									
							</tr>
					</table>
				
				<div id="userList">
					
					
				</div>
					
			</div>
	</div>
</body>
</html>
